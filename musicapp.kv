<GUILayout>:
    MDBottomNavigation:
        id: bottom_nav
        size_hint: 1, 1

        MDBottomNavigationItem:
            id: screen_1
            name: "Screen 1"
            text: "Youtube music player"

            MDFloatLayout:
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 0.3
                    Rectangle:
                        pos: self.pos
                        size: self.size

                size_hint: 1, 1

                MDIconButton:
                    id: search_btt
                    icon: "search-web"
                    pos_hint: {'center_x': 0.91, 'center_y': 0.93}
                    theme_icon_color: "Custom"
                    icon_color: app.theme_cls.primary_color
                    on_press: root.new_search()

                MDTextField:
                    id: input_box
                    hint_text: "Enter Search"
                    multiline: False
                    size_hint_x: 0.7
                    pos_hint: {'center_x': 0.45, 'center_y': 0.93}
                    on_text_validate: root.new_search()

                MDLabel:
                    id: song_title
                    text: ""
                    font_size: dp(12)
                    size_hint_y: 0.03
                    padding: 100, 100
                    pos_hint: {'center_x': 0.50, 'center_y': 0.80}
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1

                MDLabel:
                    id: info
                    text: ""
                    font_size: dp(12)
                    size_hint_y: 0.03
                    pos_hint: {'center_x': 0.60, 'center_y': 0.35}
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1

                MDLabel:
                    id: song_position
                    text: ""
                    size_hint_y: 0.03
                    pos_hint: {'center_x': 0.60, 'center_y': 0.30}
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1

                MDLabel:
                    id: song_max
                    text: ""
                    pos_hint: {'center_x': 1.30, 'center_y': 0.30}
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1

                MDIconButton:
                    id: shuffle_btt
                    icon: "shuffle"
                    pos_hint: {'center_x': 0.20, 'center_y': 0.15}
                    theme_icon_color: "Custom"
                    icon_color: 0, 0, 0, 1
                    on_press: root.shuffle_song_check()
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                MDIconButton:
                    id: repeat_btt
                    icon: "repeat"
                    pos_hint: {'center_x': 0.80, 'center_y': 0.15}
                    theme_icon_color: "Custom"
                    icon_color: 0, 0, 0, 1
                    on_press: root.repeat_songs_check()
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                MDIconButton:
                    id: pause_btt
                    icon: "pause"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.15}
                    on_press: root.pause()
                    theme_icon_color: "Custom"
                    icon_color: 1, 0, 0, 1
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                MDIconButton:
                    id: play_btt
                    icon: "play"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.15}
                    on_press: root.checkfile()
                    theme_icon_color: "Custom"
                    icon_color: app.theme_cls.primary_color
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                MDIconButton:
                    id: next_btt
                    icon: "skip-next"
                    pos_hint: {'center_x': 0.65, 'center_y': 0.15}
                    on_press: root.next()
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                MDIconButton:
                    id: previous_btt
                    icon: "skip-previous"
                    pos_hint: {'center_x': 0.35, 'center_y': 0.15}
                    on_press: root.previous()
                    opacity: 0
                    md_bg_color: 0, 0, 0, 0
                    disabled: True

                AsyncImage:
                    id: imageView
                    pos_hint: {'center_x': 0.5, 'center_y': 0.6}
                    size_hint_y: 0.3
                    size_hint_x: 0.3
                    source: root.image_path
                    mipmap: True

        MDBottomNavigationItem:
            name: "Screen 2"
            text: "Playlist"

            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: 0, 0, 0, 0.3
                size_hint: 1, 1

                MDLabel:
                    id: play_list
                    text: "Current Playlist: Downloaded"
                    size_hint_y: 0.06
                    padding: 10, 10
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1

                RecycleView:
                    id: rv
                    viewclass: "RecycleViewRow"
                    bar_width: "6dp"
                    scroll_type: ["bars", "content"]
                    do_scroll_x: False
                    do_scroll_y: True
                    data: []

                    RecycleBoxLayout:
                        default_size: None, dp(76)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: "vertical"
                        spacing: "8dp"
                        padding: "8dp"


<RecycleViewRow>:
    size_hint_y: None
    height: "76dp"
    padding: "6dp"

    MDCard:
        size_hint: 1, None
        height: "64dp"
        radius: [16, 16, 16, 16]
        elevation: 4
        ripple_behavior: False

        MDBoxLayout:
            spacing: "10dp"
            padding: "8dp"

            AsyncImage:
                size_hint: None, None
                size: "48dp", "48dp"
                source: app.root.set_local_download + "/" + root.text + ".jpg"

            MDBoxLayout:
                orientation: "vertical"
                size_hint_x: 1

                MDLabel:
                    text: root.text[:60] + "â€¦" if len(root.text) > 60 else root.text
                    bold: True
                    halign: "left"
                    shorten: True
                    shorten_from: "right"

                MDBoxLayout:
                    adaptive_height: True
                    spacing: "4dp"

                    MDLabel:
                        text: "Tap"
                        font_style: "Caption"
                        theme_text_color: "Secondary"
                        adaptive_size: True

                    MDIcon:
                        icon: "play"
                        theme_text_color: "Secondary"
                        size_hint: None, None
                        size: "18dp", "18dp"

                    MDLabel:
                        text: "to play"
                        font_style: "Caption"
                        theme_text_color: "Secondary"
                        adaptive_size: True

                    MDIcon:
                        icon: "dots-vertical"
                        theme_text_color: "Secondary"
                        size_hint: None, None
                        size: "18dp", "18dp"

                    MDLabel:
                        text: "for options"
                        font_style: "Caption"
                        theme_text_color: "Secondary"
                        adaptive_size: True

            Widget:

            MDIconButton:
                icon: "play"
                tooltip_text: "Play"
                on_release:
                    app.root.getting_song(message=root.text + ".m4a")
                    app.root.change_screen_item("Screen 1")

            MDIconButton:
                icon: "dots-vertical"
                tooltip_text: "Options"
                on_release: app.root.message_box(message=root.text + ".m4a")
